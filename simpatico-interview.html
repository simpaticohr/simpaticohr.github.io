<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Micro AI Interviewer</title>
<style>
body { background:#020617; color:white; font-family:sans-serif; padding:20px }
.msg { margin-bottom:10px }
</style>
</head>
<body>

<h2>AI Interviewer (Listeningâ€¦)</h2>
<div id="log"></div>

<script>
const API = "https://evalis-ai.simpaticohrconsultancy.workers.dev";

function log(who, text) {
  const d = document.createElement("div");
  d.className = "msg";
  d.innerHTML = `<b>${who}:</b> ${text}`;
  document.getElementById("log").prepend(d);
}

window.onUserSpeech = async (text) => {
  log("You", text);

  const fd = new FormData();
  fd.append("mode", "interview");
  fd.append("text", text);

  const r = await fetch(API, { method:"POST", body:fd });
  const d = await r.json();

  log("AI", d.reply);
};

// Start mic immediately
if (typeof AndroidMic !== "undefined") {
  AndroidMic.startListening();
}
</script>

</body>
</html>
