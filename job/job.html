
<script>
const jobsData = [
  {id:1,title:'Backend Developer',company:'NovaTech',location:'Kochi',type:'Full-time',exp:'2-5 yrs',desc:'Scalable APIs.'},
  {id:2,title:'Frontend Engineer',company:'Finlytics',location:'Bengaluru',type:'Full-time',exp:'1-4 yrs',desc:'React + TypeScript.'},
  {id:3,title:'Data Analyst',company:'MarketIQ',location:'Remote',type:'Contract',exp:'2+ yrs',desc:'SQL, Python.'},
  {id:4,title:'HR Intern',company:'Simpatico HR',location:'Perinthalmanna',type:'Internship',exp:'0-1 yrs',desc:'HR operations.'}
];

function escapeHtml(s){
  return String(s).replace(/[&<>"']/g, m =>
    ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m])
  );
}

function renderJobs(){
  const list = document.getElementById('jobsList');
  if(!list) return;
  list.innerHTML = '';

  jobsData.forEach(job=>{
    const div = document.createElement('div');
    div.className = 'job';

    div.innerHTML = `
      <h4>${escapeHtml(job.title)}</h4>
      <div class="small-muted">
        ${escapeHtml(job.company)} • ${escapeHtml(job.location)} •
        ${escapeHtml(job.exp)} • ${escapeHtml(job.type)}
      </div>
      <p>${escapeHtml(job.desc)}</p>

      <div style="margin-top:8px;display:flex;gap:8px">
        <!-- ✅ THIS IS THE FIX -->
        <a href="job/job.html?id=${job.id}" class="btn">
          View Job
        </a>

        <button class="btn"
          style="background:transparent;border:1px solid #eef2f7;color:#072433"
          onclick="saveJob(${job.id})">
          Save
        </button>
      </div>
    `;
    list.appendChild(div);
  });
}

function saveJob(id){
  alert('Job saved (demo)');
}

document.addEventListener('DOMContentLoaded', renderJobs);
</script>
