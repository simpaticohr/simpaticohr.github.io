<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Evalis AI Interviewer</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  background: #0b1020;
  font-family: Arial, sans-serif;
  color: #e5e7eb;
  display: flex;
  justify-content: center;
  padding: 20px;
}
.container {
  max-width: 600px;
  width: 100%;
  background: #111827;
  border-radius: 12px;
  padding: 20px;
}
h1 {
  text-align: center;
  color: #38bdf8;
}
.chat {
  min-height: 300px;
  margin-bottom: 15px;
}
.bot, .user {
  margin-bottom: 10px;
  padding: 10px;
  border-radius: 8px;
}
.bot {
  background: #1e293b;
}
.user {
  background: #2563eb;
  text-align: right;
}
input {
  width: 100%;
  padding: 12px;
  border-radius: 8px;
  border: none;
  outline: none;
}
button {
  margin-top: 10px;
  width: 100%;
  padding: 12px;
  border: none;
  border-radius: 8px;
  background: #38bdf8;
  color: #000;
  font-weight: bold;
  cursor: pointer;
}
</style>
</head>

<body>
<div class="container">
  <h1>Evalis AI Interviewer</h1>
  <div id="chat" class="chat"></div>

  <input id="answer" placeholder="Type your answer..." />
  <button onclick="submitAnswer()">Submit</button>
</div>

<script>
const chat = document.getElementById("chat");
const answerBox = document.getElementById("answer");

let step = 0;
let memory = {};

const questions = [
  "Tell me about yourself.",
  "What are your strongest skills?",
  "Can you describe a challenge you faced at work?",
  "Why should we hire you?",
  "Where do you see yourself in 3 years?"
];

function botSay(text) {
  const div = document.createElement("div");
  div.className = "bot";
  div.innerText = "AI Interviewer: " + text;
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
}

function userSay(text) {
  const div = document.createElement("div");
  div.className = "user";
  div.innerText = text;
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
}

function submitAnswer() {
  const text = answerBox.value.trim();
  if (!text) return;

  userSay(text);
  memory["q" + step] = text;
  answerBox.value = "";

  setTimeout(() => followUp(text), 700);
}

function followUp(answer) {
  let reply = "";

  if (step === 0) {
    reply = answer.length < 20
      ? "Could you expand a little more about your background?"
      : "Interesting. What part of your experience are you most confident about?";
  }

  else if (step === 1) {
    reply = answer.toLowerCase().includes("team")
      ? "You mentioned teamwork. Can you give an example?"
      : "How have these skills helped you in real situations?";
  }

  else if (step === 2) {
    reply = answer.toLowerCase().includes("pressure")
      ? "How do you personally handle pressure?"
      : "What did you learn from that challenge?";
  }

  else if (step === 3) {
    reply = "What makes you different from other candidates with similar experience?";
  }

  else {
    reply = "Thank you. This concludes the interview. We will evaluate your responses.";
  }

  step++;
  botSay(reply);
}

// Start interview
botSay("Welcome. Let's begin the interview.");
setTimeout(() => botSay(questions[0]), 600);
</script>
</body>
</html>
